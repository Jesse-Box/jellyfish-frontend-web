<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Durchsichtig Frontend</title>
	</head>
	<body>
		<div>
			<h1>Durchsichtig Frontend</h1>
			<button onclick="fetchData()">Fetch Data from Backend</button>
			<div id="response">
				<p>Click the button to fetch data from your local backend</p>
			</div>
		</div>
		<script>
			async function fetchData() {
				const responseDiv = document.getElementById('response');

				try {
					responseDiv.innerHTML = '<p>Loading...</p>';

					// Fetch from your Flask backend
					const response = await fetch(
						'http://127.0.0.1:5000/api/data/',
						{
							method: 'GET',
							headers: {
								'Content-Type': 'application/json',
							},
						}
					);

					if (!response.ok) {
						throw new Error(
							'HTTP error! status: ${response.status}'
						);
					}

					const data = await response.json();
					responseDiv.innerHTML = `<div class="success">
     <h3>Success!</h3>
     <pre>${JSON.stringify(data, null, 2)}</pre>
    </div>`;
				} catch (error) {
					responseDiv.innerHTML = `<div class="error">
     <h3>Error occurred:</h3>
     <p>${error.message}</p>
    </div>`;
					console.log('fetch error:', error);
				}
			}
		</script>
	</body>
</html>
